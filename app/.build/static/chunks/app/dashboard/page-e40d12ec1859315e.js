(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{69:function(e,s,a){Promise.resolve().then(a.bind(a,5307)),Promise.resolve().then(a.bind(a,6745))},5307:function(e,s,a){"use strict";a.d(s,{default:function(){return T}});var l=a(5444),t=a(9300),r=a(9827),i=a(2422),n=a(1335),c=a(7108),d=a(6765),o=a(8274),x=a(9582),m=a(4464),h=a(9983),g=a(4624),u=a(9046),j=a(7480),p=a(4670),f=a(4990),N=a(2492),y=a(5762),v=a(2817),b=a(7012),w=a(9530),k=a(2814),Z=a(572),C=a(4693),S=a(5012),D=a(185),P=a(179);function E({mediaUploads:e,onProvideFeedback:s,showFeedbackForm:a=!1,className:c=""}){let[d,o]=(0,t.useState)(null),[x,m]=(0,t.useState)(!1),[h,g]=(0,t.useState)(!1),[u,j]=(0,t.useState)(""),[p,N]=(0,t.useState)(!1),y=(0,t.useRef)(null),E=async()=>{if(d&&s&&u.trim()){N(!0);try{await s(d.id,u),j(""),o(null)}catch(e){console.error("Error providing feedback:",e)}finally{N(!1)}}},T=e=>{if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/Math.pow(1024,s)).toFixed(1))} ${["B","KB","MB","GB"][s]}`},z=e=>e?`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`:"";return 0===e.length?(0,l.jsx)(r.Zb,{className:c,children:(0,l.jsx)(r.aY,{className:"p-8 text-center",children:(0,l.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,l.jsx)("div",{className:"p-4 bg-gray-100 rounded-full",children:(0,l.jsx)(k.Z,{className:"h-8 w-8 text-gray-400"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"No media uploads yet"}),(0,l.jsx)("p",{className:"text-gray-600 mt-1",children:"Media uploads from practice sessions will appear here"})]})]})})}):(0,l.jsxs)("div",{className:`space-y-4 ${c}`,children:[(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((e,s)=>(0,l.jsx)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*s},children:(0,l.jsxs)(r.Zb,{className:"border-orange-100 hover:shadow-lg transition-all duration-300 cursor-pointer",children:[(0,l.jsxs)("div",{className:"relative aspect-video bg-gray-100 rounded-t-lg overflow-hidden",onClick:()=>o(e),children:["IMAGE"===e.mediaType?(0,l.jsx)("img",{src:e.fileUrl,alt:e.filename,className:"w-full h-full object-cover"}):(0,l.jsxs)("div",{className:"relative w-full h-full",children:[e.thumbnailUrl?(0,l.jsx)("img",{src:e.thumbnailUrl,alt:e.filename,className:"w-full h-full object-cover"}):(0,l.jsx)("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:(0,l.jsx)(k.Z,{className:"h-8 w-8 text-gray-400"})}),(0,l.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:(0,l.jsx)(f.Z,{className:"h-8 w-8 text-white"})})]}),(0,l.jsx)("div",{className:"absolute top-2 right-2",children:(0,l.jsxs)(n.C,{variant:"secondary",className:"text-xs",children:["VIDEO"===e.mediaType?(0,l.jsx)(k.Z,{className:"h-3 w-3 mr-1"}):(0,l.jsx)(Z.Z,{className:"h-3 w-3 mr-1"}),e.mediaType]})}),"VIDEO"===e.mediaType&&e.duration&&(0,l.jsx)("div",{className:"absolute bottom-2 right-2",children:(0,l.jsx)(n.C,{variant:"secondary",className:"text-xs",children:z(e.duration)})})]}),(0,l.jsx)(r.aY,{className:"p-4",children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h3",{className:"font-semibold text-sm truncate",children:e.drill.name}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[(0,l.jsx)(C.Z,{className:"h-3 w-3"}),(0,l.jsx)("span",{children:e.user.name})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[(0,l.jsx)(S.Z,{className:"h-3 w-3"}),(0,l.jsx)("span",{children:(0,P.WU)(new Date(e.createdAt),"MMM d, yyyy")})]}),(0,l.jsx)("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:(0,l.jsx)("span",{children:T(e.fileSize)})}),e.feedback&&(0,l.jsxs)("div",{className:"flex items-center gap-1 text-xs text-orange-600",children:[(0,l.jsx)(D.Z,{className:"h-3 w-3"}),(0,l.jsx)("span",{children:"Feedback provided"})]}),!e.feedback&&a&&(0,l.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[(0,l.jsx)(D.Z,{className:"h-3 w-3"}),(0,l.jsx)("span",{children:"No feedback yet"})]})]})})]})},e.id))}),(0,l.jsx)(w.Vq,{open:!!d,onOpenChange:()=>o(null),children:(0,l.jsx)(w.cZ,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:d&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(w.fK,{children:[(0,l.jsxs)(w.$N,{className:"flex items-center gap-2",children:["VIDEO"===d.mediaType?(0,l.jsx)(k.Z,{className:"h-5 w-5"}):(0,l.jsx)(Z.Z,{className:"h-5 w-5"}),d.filename]}),(0,l.jsxs)(w.Be,{children:["Drill: ",d.drill.name," • Uploaded by ",d.user.name," • ",(0,P.WU)(new Date(d.createdAt),"MMM d, yyyy")]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"relative bg-black rounded-lg overflow-hidden",children:"IMAGE"===d.mediaType?(0,l.jsx)("img",{src:d.fileUrl,alt:d.filename,className:"w-full max-h-96 object-contain"}):(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)("video",{ref:y,src:d.fileUrl,className:"w-full max-h-96",controls:!0,onPlay:()=>m(!0),onPause:()=>m(!1)})})}),d.feedback&&(0,l.jsxs)(r.Zb,{children:[(0,l.jsx)(r.Ol,{children:(0,l.jsxs)(r.ll,{className:"text-sm flex items-center gap-2",children:[(0,l.jsx)(D.Z,{className:"h-4 w-4"}),"Feedback from Coach/Parent"]})}),(0,l.jsxs)(r.aY,{children:[(0,l.jsx)("p",{className:"text-sm",children:d.feedback}),d.reviewedAt&&(0,l.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Reviewed on ",(0,P.WU)(new Date(d.reviewedAt),"MMM d, yyyy")]})]})]}),a&&!d.feedback&&(0,l.jsxs)(r.Zb,{children:[(0,l.jsxs)(r.Ol,{children:[(0,l.jsx)(r.ll,{className:"text-sm",children:"Provide Feedback"}),(0,l.jsx)(r.SZ,{children:"Share your thoughts and suggestions about this performance"})]}),(0,l.jsxs)(r.aY,{className:"space-y-4",children:[(0,l.jsx)(b.g,{placeholder:"Great form! Try to keep your elbow aligned with the basket for better accuracy...",value:u,onChange:e=>j(e.target.value),rows:4}),(0,l.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,l.jsx)(i.z,{variant:"outline",onClick:()=>o(null),children:"Cancel"}),(0,l.jsx)(i.z,{onClick:E,disabled:!u.trim()||p,className:"bg-orange-600 hover:bg-orange-700",children:p?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(D.Z,{className:"h-4 w-4 mr-2"}),"Send Feedback"]})})]})]})]})]})]})})})]})}function T({user:e}){let[s,a]=(0,t.useState)("overview"),[b,w]=(0,t.useState)({children:[],recentActivities:[],notifications:[],mediaUploads:[],weeklyProgress:{}}),[k,Z]=(0,t.useState)(!0);(0,t.useEffect)(()=>{C()},[]);let C=async()=>{try{let e=await fetch("/api/parent/dashboard");if(e.ok){let s=await e.json();w(s)}}catch(e){console.error("Error fetching dashboard data:",e)}finally{Z(!1)}},S=async e=>{try{await fetch(`/api/notifications/${e}/mark-read`,{method:"PATCH"}),C()}catch(e){console.error("Error marking notification as read:",e)}},D=async(e,s)=>{try{(await fetch(`/api/media/${e}/feedback`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({feedback:s})})).ok&&C()}catch(e){console.error("Error providing feedback:",e)}},P=e=>{switch(e){case"drill_completed":return(0,l.jsx)(o.Z,{className:"h-4 w-4 text-orange-600"});case"achievement_unlocked":return(0,l.jsx)(x.Z,{className:"h-4 w-4 text-yellow-500"});case"streak_milestone":return(0,l.jsx)(m.Z,{className:"h-4 w-4 text-blue-600"});default:return(0,l.jsx)(h.Z,{className:"h-4 w-4 text-gray-600"})}},T=b.notifications.filter(e=>!e.read);return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[(0,l.jsx)("header",{className:"bg-white shadow-sm border-b border-blue-100",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:(0,l.jsx)(g.Z,{className:"h-6 w-6 text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"HoopsQuest Parent"}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Welcome back, ",e.name,"!"]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(g.Z,{className:"h-5 w-5 text-blue-500"}),(0,l.jsx)("span",{className:"font-semibold text-gray-900",children:e.children?.length||0}),(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Children"})]}),T.length>0&&(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(u.Z,{className:"h-5 w-5 text-red-500"}),(0,l.jsx)(n.C,{variant:"destructive",className:"text-xs",children:T.length})]}),(0,l.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>(0,y.signOut)(),className:"text-gray-600 hover:text-gray-900",children:(0,l.jsx)(j.Z,{className:"h-4 w-4"})})]})]})})}),(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,l.jsxs)(d.mQ,{value:s,onValueChange:a,className:"space-y-6",children:[(0,l.jsxs)(d.dr,{className:"grid w-full grid-cols-5 bg-white border border-blue-100",children:[(0,l.jsxs)(d.SP,{value:"overview",className:"flex items-center gap-2",children:[(0,l.jsx)(p.Z,{className:"h-4 w-4"}),"Overview"]}),(0,l.jsxs)(d.SP,{value:"children",className:"flex items-center gap-2",children:[(0,l.jsx)(g.Z,{className:"h-4 w-4"}),"Children"]}),(0,l.jsxs)(d.SP,{value:"activity",className:"flex items-center gap-2",children:[(0,l.jsx)(h.Z,{className:"h-4 w-4"}),"Activity"]}),(0,l.jsxs)(d.SP,{value:"media",className:"flex items-center gap-2",children:[(0,l.jsx)(f.Z,{className:"h-4 w-4"}),"Media Review",b.mediaUploads?.filter(e=>!e.feedback).length>0&&(0,l.jsx)(n.C,{variant:"destructive",className:"ml-1 text-xs",children:b.mediaUploads.filter(e=>!e.feedback).length})]}),(0,l.jsxs)(d.SP,{value:"notifications",className:"flex items-center gap-2",children:[(0,l.jsx)(u.Z,{className:"h-4 w-4"}),"Notifications",T.length>0&&(0,l.jsx)(n.C,{variant:"destructive",className:"ml-1 text-xs",children:T.length})]})]}),(0,l.jsxs)(d.nU,{value:"overview",className:"space-y-6",children:[(0,l.jsx)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,l.jsx)(r.Zb,{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white border-0",children:(0,l.jsx)(r.aY,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Parent Dashboard \uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC67‍\uD83D\uDC66"}),(0,l.jsx)("p",{className:"text-blue-100 mb-4",children:"Monitor your children's basketball progress and achievements"}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)(n.C,{className:"bg-white text-blue-600 font-semibold",children:[e.children?.length||0," Children"]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(h.Z,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"text-sm",children:"Active Monitoring"})]})]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("div",{className:"text-3xl font-bold",children:b.recentActivities.length}),(0,l.jsx)("div",{className:"text-blue-100 text-sm",children:"Recent Activities"})]})]})})})}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.children?.map((e,s)=>l.jsx(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*s},children:l.jsxs(r.Zb,{className:"border-blue-100 hover:shadow-lg transition-shadow",children:[l.jsx(r.Ol,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(r.ll,{className:"text-lg",children:e.name}),l.jsxs(r.SZ,{className:"text-sm",children:[e.playerProfile?.skillLevel||"Beginner"," • ",e.playerProfile?.currentLevel||"Rookie"]})]}),l.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx(g.Z,{className:"h-6 w-6 text-blue-600"})})]})}),l.jsx(r.aY,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Points"}),l.jsx("span",{className:"font-semibold",children:e.playerProfile?.totalPoints||0})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Streak"}),l.jsxs("span",{className:"font-semibold",children:[e.playerProfile?.currentStreak||0," days"]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"This Week"}),l.jsxs("span",{className:"font-semibold",children:[b.weeklyProgress[e.id]?.completed||0,"/",b.weeklyProgress[e.id]?.scheduled||0]})]}),l.jsx(c.E,{value:b.weeklyProgress[e.id]?.completed?b.weeklyProgress[e.id].completed/(b.weeklyProgress[e.id].scheduled||1)*100:0,className:"h-2"})]})})]})},e.id))}),(0,l.jsx)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:(0,l.jsxs)(r.Zb,{className:"border-blue-100",children:[(0,l.jsxs)(r.Ol,{children:[(0,l.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(h.Z,{className:"h-5 w-5 text-blue-600"}),"Recent Activity"]}),(0,l.jsx)(r.SZ,{children:"Latest activities from your children"})]}),(0,l.jsx)(r.aY,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[b.recentActivities.slice(0,5).map((e,s)=>(0,l.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-gray-50",children:[P("drill_completed"),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("p",{className:"text-sm font-medium",children:['Completed "',e.drill.name,'"']}),(0,l.jsxs)("p",{className:"text-xs text-gray-600",children:[new Date(e.completedAt).toLocaleDateString()," •",Math.floor(e.duration/60),"min ",e.duration%60,"s"]})]}),e.rating&&(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(x.Z,{className:"h-4 w-4 text-yellow-500"}),(0,l.jsx)("span",{className:"text-sm",children:e.rating})]})]},e.id)),0===b.recentActivities.length&&(0,l.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No recent activities yet. Encourage your children to start practicing!"})]})})]})})]}),(0,l.jsx)(d.nU,{value:"children",children:(0,l.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.children?.map(e=>l.jsxs(r.Zb,{className:"border-blue-100",children:[l.jsxs(r.Ol,{children:[l.jsxs(r.ll,{className:"flex items-center gap-2",children:[l.jsx(g.Z,{className:"h-5 w-5 text-blue-600"}),e.name]}),l.jsxs(r.SZ,{children:[e.playerProfile?.skillLevel||"Beginner"," Level •",e.playerProfile?.favoritePosition||"No position set"]})]}),l.jsx(r.aY,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-orange-600",children:e.playerProfile?.totalPoints||0}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Points"})]}),l.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.playerProfile?.currentStreak||0}),l.jsx("div",{className:"text-sm text-gray-600",children:"Day Streak"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Current Level"}),l.jsx(n.C,{variant:"outline",children:e.playerProfile?.currentLevel||"Rookie"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Longest Streak"}),l.jsxs("span",{className:"font-semibold",children:[e.playerProfile?.longestStreak||0," days"]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Last Active"}),l.jsx("span",{className:"text-sm",children:e.playerProfile?.lastActiveDate?new Date(e.playerProfile.lastActiveDate).toLocaleDateString():"Never"})]})]}),l.jsxs("div",{className:"pt-4 border-t",children:[l.jsx("h4",{className:"font-semibold mb-2",children:"Goals"}),l.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[l.jsxs("div",{children:["Daily: ",e.playerProfile?.goals?.daily||"No goal set"]}),l.jsxs("div",{children:["Weekly: ",e.playerProfile?.goals?.weekly||"No goal set"]}),l.jsxs("div",{children:["Monthly: ",e.playerProfile?.goals?.monthly||"No goal set"]})]})]})]})})]},e.id))})}),(0,l.jsx)(d.nU,{value:"activity",children:(0,l.jsxs)(r.Zb,{className:"border-blue-100",children:[(0,l.jsxs)(r.Ol,{children:[(0,l.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(h.Z,{className:"h-5 w-5 text-blue-600"}),"Activity Feed"]}),(0,l.jsx)(r.SZ,{children:"Complete history of your children's basketball activities"})]}),(0,l.jsx)(r.aY,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[b.recentActivities.map(e=>(0,l.jsxs)("div",{className:"flex items-start gap-3 p-4 rounded-lg bg-gray-50",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,l.jsx)(o.Z,{className:"h-4 w-4 text-orange-600"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,l.jsx)("p",{className:"font-medium",children:"Drill Completed"}),(0,l.jsx)("span",{className:"text-sm text-gray-500",children:new Date(e.completedAt).toLocaleDateString()})]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:['Completed "',e.drill.name,'"',e.rating&&(0,l.jsxs)("span",{className:"ml-2 inline-flex items-center gap-1",children:[(0,l.jsx)(x.Z,{className:"h-3 w-3 text-yellow-500"}),e.rating,"/5"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[(0,l.jsxs)("span",{className:"flex items-center gap-1",children:[(0,l.jsx)(N.Z,{className:"h-3 w-3"}),Math.floor(e.duration/60),"min ",e.duration%60,"s"]}),(0,l.jsxs)("span",{children:["Category: ",e.drill.category]})]})]})]},e.id)),0===b.recentActivities.length&&(0,l.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No activities yet. Your children haven't started practicing!"})]})})]})}),(0,l.jsx)(d.nU,{value:"notifications",children:(0,l.jsxs)(r.Zb,{className:"border-blue-100",children:[(0,l.jsxs)(r.Ol,{children:[(0,l.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(u.Z,{className:"h-5 w-5 text-blue-600"}),"Notifications",T.length>0&&(0,l.jsxs)(n.C,{variant:"destructive",className:"ml-2",children:[T.length," unread"]})]}),(0,l.jsx)(r.SZ,{children:"Stay updated on your children's progress and achievements"})]}),(0,l.jsx)(r.aY,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[b.notifications.map(e=>(0,l.jsx)("div",{className:`p-4 rounded-lg border ${e.read?"bg-gray-50 border-gray-200":"bg-blue-50 border-blue-200"}`,children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,l.jsx)("div",{className:`w-2 h-2 rounded-full ${e.read?"bg-gray-400":"bg-blue-600"}`}),(0,l.jsx)("p",{className:"font-medium",children:e.title})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.message}),(0,l.jsxs)("p",{className:"text-xs text-gray-500",children:[new Date(e.createdAt).toLocaleDateString()," at"," ",new Date(e.createdAt).toLocaleTimeString()]})]}),!e.read&&(0,l.jsx)(i.z,{variant:"ghost",size:"sm",onClick:()=>S(e.id),children:"Mark as read"})]})},e.id)),0===b.notifications.length&&(0,l.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No notifications yet."})]})})]})}),(0,l.jsx)(d.nU,{value:"media",children:(0,l.jsxs)(r.Zb,{children:[(0,l.jsxs)(r.Ol,{children:[(0,l.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(f.Z,{className:"h-5 w-5 text-blue-600"}),"Media Review"]}),(0,l.jsx)(r.SZ,{children:"Review and provide feedback on your children's practice videos and images"})]}),(0,l.jsx)(r.aY,{children:(0,l.jsx)(E,{mediaUploads:b.mediaUploads||[],onProvideFeedback:D,showFeedbackForm:!0})})]})})]})})]})}},6745:function(e,s,a){"use strict";a.d(s,{default:function(){return ew}});var l=a(5444),t=a(9300),r=a(9827),i=a(2422),n=a(1335),c=a(7108),d=a(6765),o=a(4990),x=a(8274),m=a(4464),h=a(7480),g=a(4670),u=a(4614),j=a(5012),p=a(8511),f=a(8764),N=a(9582),y=a(5762),v=a(2817),b=a(4678),w=a(489),k=a(9530),Z=a(8699),C=a(5076),S=a(2492),D=a(6124),P=a(3394),E=a(9429),T=a(4805),z=a(3691),L=a(2814),A=a(2371),R=a(5522);let O=(0,A.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),I=t.forwardRef(({className:e,variant:s,...a},t)=>(0,l.jsx)("div",{ref:t,role:"alert",className:(0,R.cn)(O({variant:s}),e),...a}));I.displayName="Alert",t.forwardRef(({className:e,...s},a)=>(0,l.jsx)("h5",{ref:a,className:(0,R.cn)("mb-1 font-medium leading-none tracking-tight",e),...s})).displayName="AlertTitle";let U=t.forwardRef(({className:e,...s},a)=>(0,l.jsx)("div",{ref:a,className:(0,R.cn)("text-sm [&_p]:leading-relaxed",e),...s}));U.displayName="AlertDescription";var M=a(572),$=a(4439),Y=a(6772),F=a(563),V=a(9335);function B({onUpload:e,acceptedTypes:s=["video/*","image/*"],maxFileSize:a=50,maxFiles:d=5,disabled:o=!1,className:x=""}){let[m,h]=(0,t.useState)([]),[g,u]=(0,t.useState)(!1),[j,p]=(0,t.useState)(!1),f=(0,t.useRef)(null),N=e=>e.size>1048576*a?`File size must be less than ${a}MB`:s.some(s=>s.endsWith("/*")?e.type.startsWith(s.slice(0,-2)):e.type===s)?null:`Invalid file type. Accepted types: ${s.join(", ")}`,y=e=>new Promise((s,a)=>{if(e.type.startsWith("image/")){let l=new FileReader;l.onload=e=>s(e.target?.result),l.onerror=a,l.readAsDataURL(e)}else if(e.type.startsWith("video/")){let l=document.createElement("video");l.src=URL.createObjectURL(e),l.currentTime=1,l.onloadedmetadata=()=>{let e=document.createElement("canvas");e.width=l.videoWidth,e.height=l.videoHeight;let a=e.getContext("2d");a?.drawImage(l,0,0),s(e.toDataURL()),URL.revokeObjectURL(l.src)},l.onerror=a}else s("")}),b=(0,t.useCallback)(async e=>{let s=[],a=[];for(let l=0;l<e.length;l++){let t=e[l],r=N(t);if(r){a.push(`${t.name}: ${r}`);continue}if(m.length+s.length>=d){a.push(`Maximum ${d} files allowed`);break}try{let e=await y(t);s.push({file:t,preview:e,progress:0,status:"pending"})}catch(e){a.push(`${t.name}: Failed to create preview`)}}a.length>0&&console.error("File upload errors:",a),h(e=>[...e,...s])},[m.length,d,a]),w=(0,t.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?u(!0):"dragleave"===e.type&&u(!1)},[]),k=(0,t.useCallback)(async e=>{if(e.preventDefault(),e.stopPropagation(),u(!1),o||j)return;let s=e.dataTransfer.files;s&&s.length>0&&await b(s)},[o,j,b]),Z=(0,t.useCallback)(async e=>{let s=e.target.files;s&&s.length>0&&await b(s),f.current&&(f.current.value="")},[b]),C=e=>{h(s=>s.filter((s,a)=>a!==e))},S=async()=>{if(0!==m.length&&!j){p(!0);try{await e(m),h([])}catch(e){console.error("Upload failed:",e)}finally{p(!1)}}},P=e=>e.type.startsWith("video/")?(0,l.jsx)(L.Z,{className:"h-5 w-5"}):e.type.startsWith("image/")?(0,l.jsx)(M.Z,{className:"h-5 w-5"}):(0,l.jsx)($.Z,{className:"h-5 w-5"}),E=e=>{if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/Math.pow(1024,s)).toFixed(1))} ${["B","KB","MB","GB"][s]}`};return(0,l.jsxs)("div",{className:`space-y-4 ${x}`,children:[(0,l.jsx)(r.Zb,{className:`border-2 border-dashed transition-colors ${g?"border-orange-500 bg-orange-50":"border-gray-300 hover:border-gray-400"} ${o?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,onDragEnter:w,onDragLeave:w,onDragOver:w,onDrop:k,onClick:()=>!o&&!j&&f.current?.click(),children:(0,l.jsx)(r.aY,{className:"p-8 text-center",children:(0,l.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,l.jsx)("div",{className:"p-4 bg-orange-100 rounded-full",children:(0,l.jsx)(T.Z,{className:"h-8 w-8 text-orange-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold",children:"Upload your practice videos or images"}),(0,l.jsx)("p",{className:"text-gray-600 mt-1",children:"Drag and drop files here, or click to select files"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,l.jsxs)(n.C,{variant:"outline",children:["Max ",d," files"]}),(0,l.jsxs)(n.C,{variant:"outline",children:["Up to ",a,"MB each"]})]})]})})}),(0,l.jsx)(V.M,{children:m.length>0&&(0,l.jsx)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-2",children:m.map((e,s)=>(0,l.jsx)(v.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:.1*s},children:(0,l.jsx)(r.Zb,{children:(0,l.jsx)(r.aY,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden",children:e.preview?(0,l.jsx)("img",{src:e.preview,alt:"Preview",className:"w-full h-full object-cover"}):P(e.file)}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h4",{className:"font-medium truncate",children:e.file.name}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:E(e.file.size)}),"uploading"===e.status&&(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsx)(c.E,{value:e.progress,className:"h-2"}),(0,l.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[e.progress,"% uploaded"]})]}),"error"===e.status&&(0,l.jsxs)(I,{className:"mt-2",children:[(0,l.jsx)(Y.Z,{className:"h-4 w-4"}),(0,l.jsx)(U,{children:e.error||"Upload failed"})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:["success"===e.status&&(0,l.jsx)(D.Z,{className:"h-5 w-5 text-green-600"}),"error"===e.status&&(0,l.jsx)(Y.Z,{className:"h-5 w-5 text-red-600"}),"uploading"!==e.status&&(0,l.jsx)(i.z,{variant:"ghost",size:"sm",onClick:()=>C(s),children:(0,l.jsx)(F.Z,{className:"h-4 w-4"})})]})]})})})},s))})}),m.length>0&&(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsx)(i.z,{onClick:S,disabled:j||0===m.length,className:"bg-orange-600 hover:bg-orange-700",children:j?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Uploading..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(T.Z,{className:"h-4 w-4 mr-2"}),"Upload ",m.length," file",m.length>1?"s":""]})})}),(0,l.jsx)("input",{ref:f,type:"file",multiple:!0,accept:s.join(","),onChange:Z,className:"hidden",disabled:o||j})]})}function Q(){let[e,s]=(0,t.useState)([]),[a,c]=(0,t.useState)([]),[d,x]=(0,t.useState)(!0),[h,g]=(0,t.useState)(null),[j,p]=(0,t.useState)(null),[f,N]=(0,t.useState)(!1),[y,A]=(0,t.useState)(!1),[R,O]=(0,t.useState)({category:void 0,skillLevel:void 0,searchTerm:"",duration:void 0});(0,t.useEffect)(()=>{I()},[]),(0,t.useEffect)(()=>{U()},[e,R]);let I=async()=>{try{let e=await fetch("/api/drills");if(e.ok){let a=await e.json();s(a)}}catch(e){console.error("Error fetching drills:",e)}finally{x(!1)}},U=()=>{let s=e;R.category&&(s=s.filter(e=>e.category===R.category)),R.skillLevel&&(s=s.filter(e=>e.skillLevel===R.skillLevel)),R.searchTerm&&(s=s.filter(e=>e.name.toLowerCase().includes(R.searchTerm?.toLowerCase()||"")||e.description.toLowerCase().includes(R.searchTerm?.toLowerCase()||""))),R.duration&&(s=s.filter(e=>e.duration.includes(R.duration||""))),c(s)},M=e=>({shooting:"bg-red-100 text-red-800",dribbling:"bg-blue-100 text-blue-800",passing:"bg-green-100 text-green-800",defense:"bg-purple-100 text-purple-800",footwork:"bg-yellow-100 text-yellow-800",conditioning:"bg-pink-100 text-pink-800",fundamentals:"bg-gray-100 text-gray-800"})[e]||"bg-gray-100 text-gray-800",$=e=>({beginner:"bg-green-100 text-green-800",intermediate:"bg-yellow-100 text-yellow-800",advanced:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800",Y=async e=>{try{(await fetch("/api/schedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({drillId:e,date:new Date().toISOString(),startTime:new Date().toISOString()})})).ok&&console.log("Drill added to schedule")}catch(e){console.error("Error adding drill to schedule:",e)}},F=e=>{p(e),N(!0)},V=async e=>{if(j){A(!0);try{let s=e.map(async e=>{let s=new FormData;s.append("file",e.file),s.append("drillId",j.id);let a=await fetch("/api/media/upload",{method:"POST",body:s});if(!a.ok)throw Error("Upload failed");return a.json()});await Promise.all(s),N(!1),p(null),console.log("Media uploaded successfully")}catch(e){console.error("Error uploading media:",e)}finally{A(!1)}}};return d?(0,l.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600"})}):(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Drill Library"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Discover and practice basketball drills tailored for your skill level"})]}),(0,l.jsx)("div",{className:"flex items-center gap-2",children:(0,l.jsxs)(n.C,{variant:"outline",className:"text-gray-600",children:[a.length," of ",e.length," drills"]})})]}),(0,l.jsxs)(r.Zb,{className:"border-orange-100",children:[(0,l.jsx)(r.Ol,{children:(0,l.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(Z.Z,{className:"h-5 w-5 text-orange-600"}),"Filters"]})}),(0,l.jsx)(r.aY,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(C.Z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,l.jsx)(b.I,{placeholder:"Search drills...",value:R.searchTerm,onChange:e=>O({...R,searchTerm:e.target.value}),className:"pl-10"})]}),(0,l.jsxs)(w.Ph,{value:R.category,onValueChange:e=>O({...R,category:"all"===e?void 0:e}),children:[(0,l.jsx)(w.i4,{children:(0,l.jsx)(w.ki,{placeholder:"Category"})}),(0,l.jsxs)(w.Bw,{children:[(0,l.jsx)(w.Ql,{value:"all",children:"All Categories"}),(0,l.jsx)(w.Ql,{value:"shooting",children:"Shooting"}),(0,l.jsx)(w.Ql,{value:"dribbling",children:"Dribbling"}),(0,l.jsx)(w.Ql,{value:"passing",children:"Passing"}),(0,l.jsx)(w.Ql,{value:"defense",children:"Defense"}),(0,l.jsx)(w.Ql,{value:"footwork",children:"Footwork"}),(0,l.jsx)(w.Ql,{value:"conditioning",children:"Conditioning"}),(0,l.jsx)(w.Ql,{value:"fundamentals",children:"Fundamentals"})]})]}),(0,l.jsxs)(w.Ph,{value:R.skillLevel,onValueChange:e=>O({...R,skillLevel:"all"===e?void 0:e}),children:[(0,l.jsx)(w.i4,{children:(0,l.jsx)(w.ki,{placeholder:"Skill Level"})}),(0,l.jsxs)(w.Bw,{children:[(0,l.jsx)(w.Ql,{value:"all",children:"All Levels"}),(0,l.jsx)(w.Ql,{value:"beginner",children:"Beginner"}),(0,l.jsx)(w.Ql,{value:"intermediate",children:"Intermediate"}),(0,l.jsx)(w.Ql,{value:"advanced",children:"Advanced"})]})]}),(0,l.jsxs)(w.Ph,{value:R.duration,onValueChange:e=>O({...R,duration:"all"===e?void 0:e}),children:[(0,l.jsx)(w.i4,{children:(0,l.jsx)(w.ki,{placeholder:"Duration"})}),(0,l.jsxs)(w.Bw,{children:[(0,l.jsx)(w.Ql,{value:"all",children:"All Durations"}),(0,l.jsx)(w.Ql,{value:"5",children:"5 minutes"}),(0,l.jsx)(w.Ql,{value:"10",children:"10 minutes"}),(0,l.jsx)(w.Ql,{value:"15",children:"15 minutes"}),(0,l.jsx)(w.Ql,{value:"20",children:"20+ minutes"})]})]})]})})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((e,s)=>(0,l.jsx)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*s},children:(0,l.jsxs)(r.Zb,{className:"border-orange-100 hover:shadow-lg transition-all duration-300 h-full",children:[(0,l.jsx)(r.Ol,{className:"pb-3",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)(r.ll,{className:"text-lg line-clamp-2",children:e.name}),(0,l.jsx)(r.SZ,{className:"line-clamp-2 mt-1",children:e.description})]}),(0,l.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 ml-3",children:(0,l.jsx)(o.Z,{className:"h-6 w-6 text-orange-600"})})]})}),(0,l.jsxs)(r.aY,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,l.jsx)(n.C,{className:M(e.category),children:e.category}),(0,l.jsx)(n.C,{className:$(e.skillLevel),children:e.skillLevel})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,l.jsx)(S.Z,{className:"h-4 w-4"}),(0,l.jsx)("span",{children:e.duration})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,l.jsx)(m.Z,{className:"h-4 w-4"}),(0,l.jsxs)("span",{children:[e.equipment.length," equipment needed"]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 pt-2",children:[(0,l.jsxs)(k.Vq,{children:[(0,l.jsx)(k.hg,{asChild:!0,children:(0,l.jsxs)(i.z,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>g(e),children:[(0,l.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"View Details"]})}),(0,l.jsxs)(k.cZ,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,l.jsxs)(k.fK,{children:[(0,l.jsxs)(k.$N,{className:"flex items-center gap-2",children:[(0,l.jsx)(o.Z,{className:"h-5 w-5 text-orange-600"}),h?.name]}),(0,l.jsx)(k.Be,{children:h?.description})]}),h&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(n.C,{className:M(h.category),children:h.category}),(0,l.jsx)(n.C,{className:$(h.skillLevel),children:h.skillLevel}),(0,l.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[(0,l.jsx)(S.Z,{className:"h-4 w-4"}),h.duration]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-2",children:"Equipment Needed"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:h.equipment.map((e,s)=>(0,l.jsx)(n.C,{variant:"outline",children:e},s))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-2",children:"Step-by-Step Instructions"}),(0,l.jsx)("ol",{className:"space-y-2",children:h.stepByStep.map((e,s)=>(0,l.jsxs)("li",{className:"flex items-start gap-2",children:[(0,l.jsx)("span",{className:"bg-orange-100 text-orange-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-medium flex-shrink-0",children:s+1}),(0,l.jsx)("span",{className:"text-gray-700",children:e})]},s))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-2",children:"Coaching Tips"}),(0,l.jsx)("ul",{className:"space-y-1",children:h.coachingTips.map((e,s)=>(0,l.jsxs)("li",{className:"flex items-start gap-2",children:[(0,l.jsx)(D.Z,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),(0,l.jsx)("span",{className:"text-gray-700",children:e})]},s))})]}),h.videoUrl&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-2",children:"Video Tutorial"}),(0,l.jsx)(i.z,{variant:"outline",asChild:!0,className:"w-full",children:(0,l.jsxs)("a",{href:h.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:[(0,l.jsx)(P.Z,{className:"h-4 w-4"}),"Watch Tutorial Video"]})})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 pt-4 border-t",children:[(0,l.jsxs)(i.z,{className:"flex-1 bg-orange-600 hover:bg-orange-700",onClick:()=>Y(h.id),children:[(0,l.jsx)(E.Z,{className:"h-4 w-4 mr-2"}),"Add to Schedule"]}),(0,l.jsxs)(i.z,{variant:"outline",className:"flex-1",children:[(0,l.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"Start Practice"]})]})]})]})]}),(0,l.jsx)(i.z,{size:"sm",variant:"outline",className:"bg-blue-50 hover:bg-blue-100 border-blue-200",onClick:()=>F(e),children:(0,l.jsx)(T.Z,{className:"h-4 w-4"})}),(0,l.jsx)(i.z,{size:"sm",className:"bg-orange-600 hover:bg-orange-700",onClick:()=>Y(e.id),children:(0,l.jsx)(E.Z,{className:"h-4 w-4"})})]})]})]})},e.id))}),0===a.length&&(0,l.jsx)(r.Zb,{className:"border-orange-100",children:(0,l.jsxs)(r.aY,{className:"text-center py-12",children:[(0,l.jsx)(u.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No drills found"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Try adjusting your filters or search terms to find more drills."})]})}),(0,l.jsx)(k.Vq,{open:f,onOpenChange:N,children:(0,l.jsxs)(k.cZ,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)(k.fK,{children:[(0,l.jsxs)(k.$N,{className:"flex items-center gap-2",children:[(0,l.jsx)(z.Z,{className:"h-5 w-5 text-blue-600"}),"Upload Practice Video/Image"]}),(0,l.jsxs)(k.Be,{children:["Share your practice session for ",j?.name," by uploading a video or image for coach/parent review."]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"text-center py-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600 mb-4",children:[(0,l.jsx)(L.Z,{className:"h-4 w-4"}),(0,l.jsx)("span",{children:"Videos and Images Accepted"})]}),(0,l.jsx)("p",{className:"text-gray-600",children:"Upload your practice session to get feedback from your coach or parent."})]}),(0,l.jsx)(B,{onUpload:V,acceptedTypes:["video/*","image/*"],maxFileSize:50,maxFiles:3,disabled:y}),(0,l.jsx)("div",{className:"flex justify-end gap-2 pt-4",children:(0,l.jsx)(i.z,{variant:"outline",onClick:()=>N(!1),disabled:y,children:"Cancel"})})]})]})})]})}var _=a(4635),W=a(7012),q=a(3485),G=a(1137),H=a(3572);function K(){let[e,s]=(0,t.useState)(new Date),[a,c]=(0,t.useState)([]),[d,x]=(0,t.useState)([]),[h,g]=(0,t.useState)(null),[u,p]=(0,t.useState)(!1),[f,N]=(0,t.useState)(!0),[y,Z]=(0,t.useState)({drillId:"",date:"",startTime:"",notes:""});(0,t.useEffect)(()=>{C(),P()},[e]);let C=async()=>{try{let s=new Date(e.getFullYear(),e.getMonth(),1),a=new Date(e.getFullYear(),e.getMonth()+1,0),l=await fetch(`/api/schedule?start=${s.toISOString()}&end=${a.toISOString()}`);if(l.ok){let e=await l.json();c(e)}}catch(e){console.error("Error fetching schedule entries:",e)}finally{N(!1)}},P=async()=>{try{let e=await fetch("/api/drills");if(e.ok){let s=await e.json();x(s)}}catch(e){console.error("Error fetching drills:",e)}},T=async()=>{try{(await fetch("/api/schedule",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({drillId:y.drillId,date:y.date,startTime:`${y.date}T${y.startTime}:00`,notes:y.notes})})).ok&&(p(!1),Z({drillId:"",date:"",startTime:"",notes:""}),C())}catch(e){console.error("Error adding schedule entry:",e)}},z=async(e,s)=>{try{(await fetch(`/api/schedule/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:s})})).ok&&C()}catch(e){console.error("Error updating schedule entry:",e)}},L=async e=>{try{(await fetch(`/api/schedule/${e}`,{method:"DELETE"})).ok&&C()}catch(e){console.error("Error deleting schedule entry:",e)}},A=e=>a.filter(s=>new Date(s.date).toDateString()===e.toDateString()),R=e=>({SCHEDULED:"bg-blue-100 text-blue-800",IN_PROGRESS:"bg-yellow-100 text-yellow-800",COMPLETED:"bg-green-100 text-green-800",CANCELLED:"bg-red-100 text-red-800",MISSED:"bg-gray-100 text-gray-800"})[e]||"bg-gray-100 text-gray-800",O=e=>({SCHEDULED:(0,l.jsx)(S.Z,{className:"h-3 w-3"}),IN_PROGRESS:(0,l.jsx)(o.Z,{className:"h-3 w-3"}),COMPLETED:(0,l.jsx)(D.Z,{className:"h-3 w-3"}),CANCELLED:(0,l.jsx)(q.Z,{className:"h-3 w-3"}),MISSED:(0,l.jsx)(Y.Z,{className:"h-3 w-3"})})[e]||(0,l.jsx)(S.Z,{className:"h-3 w-3"}),I=a=>{let l=new Date(e);l.setMonth(l.getMonth()+a),s(l)},U=(e=>{let s=new Date(e.getFullYear(),e.getMonth(),1),a=new Date(s);a.setDate(a.getDate()-s.getDay());let l=[];for(let e=0;e<42;e++)l.push(new Date(a.getTime()+864e5*e));return l})(e),M=e.toLocaleString("default",{month:"long",year:"numeric"});return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Practice Calendar"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Schedule and track your basketball practice sessions"})]}),(0,l.jsxs)(k.Vq,{open:u,onOpenChange:p,children:[(0,l.jsx)(k.hg,{asChild:!0,children:(0,l.jsxs)(i.z,{className:"bg-orange-600 hover:bg-orange-700",children:[(0,l.jsx)(E.Z,{className:"h-4 w-4 mr-2"}),"Add Practice"]})}),(0,l.jsxs)(k.cZ,{children:[(0,l.jsxs)(k.fK,{children:[(0,l.jsx)(k.$N,{children:"Schedule New Practice"}),(0,l.jsx)(k.Be,{children:"Add a new drill or workout to your practice schedule"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(_._,{htmlFor:"drill",children:"Select Drill"}),(0,l.jsxs)(w.Ph,{value:y.drillId,onValueChange:e=>Z({...y,drillId:e}),children:[(0,l.jsx)(w.i4,{children:(0,l.jsx)(w.ki,{placeholder:"Choose a drill"})}),(0,l.jsx)(w.Bw,{children:d.map(e=>(0,l.jsx)(w.Ql,{value:e.id,children:e.name},e.id))})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(_._,{htmlFor:"date",children:"Date"}),(0,l.jsx)(b.I,{id:"date",type:"date",value:y.date,onChange:e=>Z({...y,date:e.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(_._,{htmlFor:"time",children:"Time"}),(0,l.jsx)(b.I,{id:"time",type:"time",value:y.startTime,onChange:e=>Z({...y,startTime:e.target.value})})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(_._,{htmlFor:"notes",children:"Notes (Optional)"}),(0,l.jsx)(W.g,{id:"notes",placeholder:"Add any notes about this practice session...",value:y.notes,onChange:e=>Z({...y,notes:e.target.value})})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 pt-4",children:[(0,l.jsxs)(i.z,{onClick:T,className:"flex-1 bg-orange-600 hover:bg-orange-700",disabled:!y.drillId||!y.date||!y.startTime,children:[(0,l.jsx)(E.Z,{className:"h-4 w-4 mr-2"}),"Schedule Practice"]}),(0,l.jsx)(i.z,{variant:"outline",onClick:()=>p(!1),className:"flex-1",children:"Cancel"})]})]})]})]})]}),(0,l.jsxs)(r.Zb,{className:"border-orange-100",children:[(0,l.jsx)(r.Ol,{children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(j.Z,{className:"h-5 w-5 text-orange-600"}),M]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>I(-1),children:(0,l.jsx)(G.Z,{className:"h-4 w-4"})}),(0,l.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>s(new Date),children:"Today"}),(0,l.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>I(1),children:(0,l.jsx)(H.Z,{className:"h-4 w-4"})})]})]})}),(0,l.jsxs)(r.aY,{children:[(0,l.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,l.jsx)("div",{className:"text-center text-sm font-medium text-gray-600 py-2",children:e},e))}),(0,l.jsx)("div",{className:"grid grid-cols-7 gap-1",children:U.map((s,a)=>{let t=A(s),r=s.getMonth()===e.getMonth(),i=s.toDateString()===new Date().toDateString(),n=s<new Date(new Date().setHours(0,0,0,0));return(0,l.jsxs)(v.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.2,delay:.01*a},className:`min-h-24 p-2 border border-gray-200 ${r?"bg-white":"bg-gray-50"} ${i?"border-orange-600 bg-orange-50":""} ${n?"opacity-60":""} hover:bg-gray-50 cursor-pointer transition-colors`,onClick:()=>g(s),children:[(0,l.jsx)("div",{className:`text-sm font-medium ${r?"text-gray-900":"text-gray-400"} ${i?"text-orange-600":""}`,children:s.getDate()}),(0,l.jsxs)("div",{className:"space-y-1 mt-1",children:[t.slice(0,2).map(e=>(0,l.jsx)("div",{className:`text-xs px-1 py-0.5 rounded ${R(e.status)}`,children:(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[O(e.status),(0,l.jsx)("span",{className:"truncate",children:e.drill?.name||"Practice"})]})},e.id)),t.length>2&&(0,l.jsxs)("div",{className:"text-xs text-gray-500",children:["+",t.length-2," more"]})]})]},a)})})]})]}),h&&(0,l.jsxs)(r.Zb,{className:"border-orange-100",children:[(0,l.jsxs)(r.Ol,{children:[(0,l.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(m.Z,{className:"h-5 w-5 text-orange-600"}),h.toLocaleDateString("default",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),(0,l.jsxs)(r.SZ,{children:[A(h).length," practice sessions scheduled"]})]}),(0,l.jsx)(r.aY,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[A(h).map(e=>(0,l.jsxs)("div",{className:"flex items-center gap-4 p-4 border border-gray-200 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsx)("h4",{className:"font-medium",children:e.drill?.name||"Practice"}),(0,l.jsxs)(n.C,{className:R(e.status),children:[O(e.status),(0,l.jsx)("span",{className:"ml-1",children:e.status})]})]}),(0,l.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(S.Z,{className:"h-4 w-4"}),(0,l.jsx)("span",{children:new Date(e.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.notes&&(0,l.jsx)("div",{className:"text-gray-700 mt-2",children:e.notes})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:["SCHEDULED"===e.status&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(i.z,{size:"sm",variant:"outline",onClick:()=>z(e.id,"COMPLETED"),children:[(0,l.jsx)(D.Z,{className:"h-4 w-4 mr-1"}),"Complete"]}),(0,l.jsxs)(i.z,{size:"sm",variant:"outline",onClick:()=>z(e.id,"CANCELLED"),children:[(0,l.jsx)(q.Z,{className:"h-4 w-4 mr-1"}),"Cancel"]})]}),(0,l.jsx)(i.z,{size:"sm",variant:"outline",onClick:()=>L(e.id),children:(0,l.jsx)(q.Z,{className:"h-4 w-4"})})]})]},e.id)),0===A(h).length&&(0,l.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,l.jsx)(j.Z,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),(0,l.jsx)("p",{children:"No practice sessions scheduled for this date"}),(0,l.jsxs)(i.z,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>{Z({...y,date:h.toISOString().split("T")[0]}),p(!0)},children:[(0,l.jsx)(E.Z,{className:"h-4 w-4 mr-2"}),"Add Practice"]})]})]})})]})]})}var J=a(4385),X=a(2379),ee=a(6603),es=a(3594),ea=a(9472);function el(){var e;let[s,a]=(0,t.useState)([]),[m,h]=(0,t.useState)(null),[g,u]=(0,t.useState)({isRunning:!1,isPaused:!1,timeLeft:0,totalTime:0,currentDrill:void 0,drillIndex:0,completedDrills:[]}),[j,f]=(0,t.useState)(""),[y,b]=(0,t.useState)(0),[Z,C]=(0,t.useState)(!1),[S,P]=(0,t.useState)(!0),[E,T]=(0,t.useState)(15),[L,A]=(0,t.useState)(null),[R,O]=(0,t.useState)(!1),I=(0,t.useRef)(null);(0,t.useRef)(null),(0,t.useEffect)(()=>{U()},[]),(0,t.useEffect)(()=>(g.isRunning&&!g.isPaused&&g.timeLeft>0?I.current=setInterval(()=>{u(e=>({...e,timeLeft:Math.max(0,e.timeLeft-1)}))},1e3):I.current&&clearInterval(I.current),()=>{I.current&&clearInterval(I.current)}),[g.isRunning,g.isPaused,g.timeLeft]),(0,t.useEffect)(()=>{0===g.timeLeft&&g.isRunning&&Y()},[g.timeLeft,g.isRunning]);let U=async()=>{try{let e=await fetch("/api/drills");if(e.ok){let s=await e.json();a(s)}}catch(e){console.error("Error fetching drills:",e)}},M=e=>{if(!S)return;let s=new(window.AudioContext||window.webkitAudioContext),a=s.createOscillator(),l=s.createGain();a.connect(l),l.connect(s.destination),a.frequency.setValueAtTime({start:800,complete:1e3,warning:600}[e],s.currentTime),l.gain.setValueAtTime(.1,s.currentTime),l.gain.exponentialRampToValueAtTime(.01,s.currentTime+.5),a.start(),a.stop(s.currentTime+.5)},$=e=>{let s=60*E;u({isRunning:!0,isPaused:!1,timeLeft:s,totalTime:s,currentDrill:e,drillIndex:0,completedDrills:[]}),M("start")},Y=()=>{u(e=>({...e,isRunning:!1,isPaused:!1})),M("complete"),C(!0)},F=async()=>{if(g.currentDrill)try{let e=await fetch("/api/drills/complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({drillId:g.currentDrill.id,duration:g.totalTime-g.timeLeft,rating:y,feedback:j})});if(e.ok){let s=await e.json();A(s.id),f(""),b(0)}}catch(e){console.error("Error completing drill:",e)}},V=async e=>{if(g.currentDrill&&L){O(!0);try{let s=e.map(async e=>{let s=new FormData;s.append("file",e.file),s.append("drillId",g.currentDrill.id),s.append("drillCompletionId",L);let a=await fetch("/api/media/upload",{method:"POST",body:s});if(!a.ok)throw Error("Upload failed");return a.json()});await Promise.all(s),C(!1),A(null),u({isRunning:!1,isPaused:!1,timeLeft:0,totalTime:0,currentDrill:void 0,drillIndex:0,completedDrills:[]})}catch(e){console.error("Error uploading media:",e)}finally{O(!1)}}},Q=()=>{C(!1),A(null),u({isRunning:!1,isPaused:!1,timeLeft:0,totalTime:0,currentDrill:void 0,drillIndex:0,completedDrills:[]})},_=()=>0===g.totalTime?0:(g.totalTime-g.timeLeft)/g.totalTime*100;return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Practice Timer"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Time your practice sessions and track your progress"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>P(!S),children:S?(0,l.jsx)(J.Z,{className:"h-4 w-4"}):(0,l.jsx)(X.Z,{className:"h-4 w-4"})}),(0,l.jsxs)(n.C,{variant:"outline",className:"text-gray-600",children:[E," min sessions"]})]})]}),(0,l.jsxs)(r.Zb,{className:"border-orange-100",children:[(0,l.jsxs)(r.Ol,{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(p.Z,{className:"h-5 w-5 text-orange-600"}),g.currentDrill?g.currentDrill.name:"Select a Drill"]}),(0,l.jsx)("div",{className:"flex items-center gap-2",children:(0,l.jsxs)(w.Ph,{value:E.toString(),onValueChange:e=>T(parseInt(e)),disabled:g.isRunning,children:[(0,l.jsx)(w.i4,{className:"w-32",children:(0,l.jsx)(w.ki,{})}),(0,l.jsxs)(w.Bw,{children:[(0,l.jsx)(w.Ql,{value:"5",children:"5 minutes"}),(0,l.jsx)(w.Ql,{value:"10",children:"10 minutes"}),(0,l.jsx)(w.Ql,{value:"15",children:"15 minutes"}),(0,l.jsx)(w.Ql,{value:"20",children:"20 minutes"}),(0,l.jsx)(w.Ql,{value:"30",children:"30 minutes"})]})]})})]}),g.currentDrill&&(0,l.jsx)(r.SZ,{children:g.currentDrill.description})]}),(0,l.jsx)(r.aY,{children:(0,l.jsxs)("div",{className:"text-center space-y-6",children:[(0,l.jsx)(v.E.div,{initial:{scale:.9},animate:{scale:g.isRunning?1.05:1},transition:{duration:.3},className:`text-6xl font-bold ${(()=>{let e=_();return e>80?"text-red-600":e>60?"text-yellow-600":"text-green-600"})()}`,children:(e=g.timeLeft,`${Math.floor(e/60).toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`)}),(0,l.jsx)(c.E,{value:_(),className:"h-3"}),(0,l.jsx)("div",{className:"flex items-center justify-center gap-4",children:g.isRunning?(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)(i.z,{onClick:()=>{u(e=>({...e,isPaused:!e.isPaused}))},variant:"outline",size:"lg",children:[g.isPaused?(0,l.jsx)(o.Z,{className:"h-5 w-5"}):(0,l.jsx)(ee.Z,{className:"h-5 w-5"}),g.isPaused?"Resume":"Pause"]}),(0,l.jsxs)(i.z,{onClick:()=>{u(e=>({...e,timeLeft:e.totalTime,isPaused:!1}))},variant:"outline",size:"lg",children:[(0,l.jsx)(es.Z,{className:"h-5 w-5 mr-2"}),"Reset"]}),(0,l.jsxs)(i.z,{onClick:()=>{u({isRunning:!1,isPaused:!1,timeLeft:0,totalTime:0,currentDrill:void 0,drillIndex:0,completedDrills:[]}),I.current&&clearInterval(I.current)},variant:"outline",size:"lg",children:[(0,l.jsx)(ea.Z,{className:"h-5 w-5 mr-2"}),"Stop"]})]}):(0,l.jsxs)(w.Ph,{value:m?.id||"",onValueChange:e=>{let a=s.find(s=>s.id===e);a&&(h(a),$(a))},children:[(0,l.jsx)(w.i4,{className:"w-64",children:(0,l.jsx)(w.ki,{placeholder:"Select a drill to start"})}),(0,l.jsx)(w.Bw,{children:s.map(e=>(0,l.jsx)(w.Ql,{value:e.id,children:e.name},e.id))})]})})]})})]}),g.currentDrill&&(0,l.jsxs)(r.Zb,{className:"border-orange-100",children:[(0,l.jsx)(r.Ol,{children:(0,l.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(D.Z,{className:"h-5 w-5 text-orange-600"}),"Current Drill Instructions"]})}),(0,l.jsxs)(r.aY,{children:[(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-2",children:"Equipment Needed"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:g.currentDrill.equipment.map((e,s)=>(0,l.jsx)(n.C,{variant:"outline",children:e},s))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-2",children:"Skill Level"}),(0,l.jsx)(n.C,{className:"bg-blue-100 text-blue-800",children:g.currentDrill.skillLevel})]})]}),(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("h4",{className:"font-semibold mb-2",children:"Instructions"}),(0,l.jsx)("ol",{className:"space-y-2",children:g.currentDrill.stepByStep.map((e,s)=>(0,l.jsxs)("li",{className:"flex items-start gap-2",children:[(0,l.jsx)("span",{className:"bg-orange-100 text-orange-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-medium flex-shrink-0",children:s+1}),(0,l.jsx)("span",{className:"text-gray-700",children:e})]},s))})]}),(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("h4",{className:"font-semibold mb-2",children:"Coaching Tips"}),(0,l.jsx)("ul",{className:"space-y-1",children:g.currentDrill.coachingTips.map((e,s)=>(0,l.jsxs)("li",{className:"flex items-start gap-2",children:[(0,l.jsx)(D.Z,{className:"h-4 w-4 text-green-600 flex-shrink-0 mt-0.5"}),(0,l.jsx)("span",{className:"text-gray-700",children:e})]},s))})]})]})]}),(0,l.jsx)(k.Vq,{open:Z,onOpenChange:C,children:(0,l.jsxs)(k.cZ,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)(k.fK,{children:[(0,l.jsxs)(k.$N,{className:"flex items-center gap-2",children:[(0,l.jsx)(x.Z,{className:"h-5 w-5 text-yellow-500"}),"Practice Complete!"]}),(0,l.jsx)(k.Be,{children:"Great job completing your practice session! Rate your performance and optionally upload a video or image."})]}),(0,l.jsxs)(d.mQ,{defaultValue:"feedback",className:"w-full",children:[(0,l.jsxs)(d.dr,{className:"grid w-full grid-cols-2",children:[(0,l.jsx)(d.SP,{value:"feedback",children:"Rate & Feedback"}),(0,l.jsxs)(d.SP,{value:"upload",disabled:!L,children:[(0,l.jsx)(z.Z,{className:"h-4 w-4 mr-2"}),"Upload Video/Image"]})]}),(0,l.jsxs)(d.nU,{value:"feedback",className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Rate your performance (1-5 stars)"}),(0,l.jsx)("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(e=>(0,l.jsx)("button",{onClick:()=>b(e),className:`p-1 ${e<=y?"text-yellow-500":"text-gray-300"}`,children:(0,l.jsx)(N.Z,{className:"h-6 w-6 fill-current"})},e))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Notes (optional)"}),(0,l.jsx)(W.g,{placeholder:"How did the drill feel? Any observations or areas for improvement?",value:j,onChange:e=>f(e.target.value),rows:3})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 pt-4",children:[L?(0,l.jsxs)(i.z,{onClick:Q,className:"flex-1 bg-orange-600 hover:bg-orange-700",children:[(0,l.jsx)(D.Z,{className:"h-4 w-4 mr-2"}),"Finish"]}):(0,l.jsxs)(i.z,{onClick:F,className:"flex-1 bg-orange-600 hover:bg-orange-700",children:[(0,l.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Complete Practice"]}),(0,l.jsx)(i.z,{variant:"outline",onClick:()=>C(!1),className:"flex-1",children:"Cancel"})]})]}),(0,l.jsx)(d.nU,{value:"upload",className:"space-y-4",children:L?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"text-center py-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Share Your Performance"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Upload a video or image of your practice session for your coach/parent to review and provide feedback."})]}),(0,l.jsx)(B,{onUpload:V,acceptedTypes:["video/*","image/*"],maxFileSize:50,maxFiles:3,disabled:R}),(0,l.jsx)("div",{className:"flex justify-center pt-4",children:(0,l.jsx)(i.z,{variant:"outline",onClick:Q,disabled:R,children:"Skip Upload"})})]}):(0,l.jsx)("div",{className:"text-center py-8",children:(0,l.jsx)("p",{className:"text-gray-500",children:"Complete your practice feedback first to upload media."})})})]})]})})]})}var et=a(2312);let er=t.forwardRef(({className:e,...s},a)=>(0,l.jsx)(et.fC,{className:(0,R.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:a,children:(0,l.jsx)(et.bU,{className:(0,R.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));er.displayName=et.fC.displayName;var ei=a(7386),en=a(8382),ec=a(4624),ed=a(357),eo=a(5427);function ex(){let[e,s]=(0,t.useState)([]),[a,c]=(0,t.useState)([]),[d,x]=(0,t.useState)(null),[h,g]=(0,t.useState)(!1),[j,p]=(0,t.useState)(!1),[f,N]=(0,t.useState)(!0),[y,w]=(0,t.useState)({name:"",description:"",drills:[],totalDuration:0,isPublic:!1});(0,t.useEffect)(()=>{Z(),C()},[]);let Z=async()=>{try{let e=await fetch("/api/drills");if(e.ok){let a=await e.json();s(a)}}catch(e){console.error("Error fetching drills:",e)}},C=async()=>{try{let e=await fetch("/api/workouts");if(e.ok){let s=await e.json();c(s)}}catch(e){console.error("Error fetching workouts:",e)}finally{N(!1)}},D=async()=>{try{(await fetch("/api/workouts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)})).ok&&(g(!1),R(),C())}catch(e){console.error("Error creating workout:",e)}},P=async()=>{if(d)try{(await fetch(`/api/workouts/${d.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)})).ok&&(C(),x(null),R())}catch(e){console.error("Error updating workout:",e)}},T=async e=>{try{(await fetch(`/api/workouts/${e}`,{method:"DELETE"})).ok&&(C(),d?.id===e&&(x(null),R()))}catch(e){console.error("Error deleting workout:",e)}},z=e=>{let s={id:`temp-${Date.now()}`,workoutId:"",drillId:e.id,order:y.drills.length,duration:600,notes:"",drill:e};w(e=>({...e,drills:[...e.drills,s],totalDuration:e.totalDuration+(s.duration||0)})),p(!1)},L=e=>{let s=y.drills[e];w(a=>({...a,drills:a.drills.filter((s,a)=>a!==e),totalDuration:a.totalDuration-(s.duration||0)}))},A=(e,s)=>{let a=y.drills[e].duration||0,l=[...y.drills];l[e]={...l[e],duration:s},w(e=>({...e,drills:l,totalDuration:e.totalDuration-a+s}))},R=()=>{w({name:"",description:"",drills:[],totalDuration:0,isPublic:!1})},O=e=>{x(e),w({name:e.name,description:e.description||"",drills:e.workoutDrills||[],totalDuration:e.totalDuration,isPublic:e.isPublic})},I=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`,U=e=>({shooting:"bg-red-100 text-red-800",dribbling:"bg-blue-100 text-blue-800",passing:"bg-green-100 text-green-800",defense:"bg-purple-100 text-purple-800",footwork:"bg-yellow-100 text-yellow-800",conditioning:"bg-pink-100 text-pink-800",fundamentals:"bg-gray-100 text-gray-800"})[e]||"bg-gray-100 text-gray-800";return f?(0,l.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600"})}):(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Workout Builder"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Create custom workout routines by combining drills"})]}),(0,l.jsxs)(k.Vq,{open:h,onOpenChange:g,children:[(0,l.jsx)(k.hg,{asChild:!0,children:(0,l.jsxs)(i.z,{className:"bg-orange-600 hover:bg-orange-700",children:[(0,l.jsx)(E.Z,{className:"h-4 w-4 mr-2"}),"Create Workout"]})}),(0,l.jsxs)(k.cZ,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,l.jsxs)(k.fK,{children:[(0,l.jsx)(k.$N,{children:d?"Edit Workout":"Create New Workout"}),(0,l.jsx)(k.Be,{children:"Build a custom workout by adding drills and setting durations"})]}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(_._,{htmlFor:"name",children:"Workout Name"}),(0,l.jsx)(b.I,{id:"name",placeholder:"Enter workout name",value:y.name,onChange:e=>w(s=>({...s,name:e.target.value}))})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(_._,{htmlFor:"duration",children:"Total Duration"}),(0,l.jsx)(b.I,{id:"duration",value:I(y.totalDuration),readOnly:!0,className:"bg-gray-50"})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(_._,{htmlFor:"description",children:"Description"}),(0,l.jsx)(W.g,{id:"description",placeholder:"Describe the workout and its goals",value:y.description,onChange:e=>w(s=>({...s,description:e.target.value})),rows:3})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(er,{id:"public",checked:y.isPublic,onCheckedChange:e=>w(s=>({...s,isPublic:e}))}),(0,l.jsx)(_._,{htmlFor:"public",children:"Make this workout public"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold",children:["Drills (",y.drills.length,")"]}),(0,l.jsxs)(k.Vq,{open:j,onOpenChange:p,children:[(0,l.jsx)(k.hg,{asChild:!0,children:(0,l.jsxs)(i.z,{variant:"outline",size:"sm",children:[(0,l.jsx)(E.Z,{className:"h-4 w-4 mr-2"}),"Add Drill"]})}),(0,l.jsxs)(k.cZ,{className:"max-w-2xl",children:[(0,l.jsxs)(k.fK,{children:[(0,l.jsx)(k.$N,{children:"Add Drill to Workout"}),(0,l.jsx)(k.Be,{children:"Select a drill to add to your workout"})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 gap-4 max-h-96 overflow-y-auto",children:e.map(e=>(0,l.jsx)(r.Zb,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>z(e),children:(0,l.jsx)(r.aY,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h4",{className:"font-medium",children:e.name}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),(0,l.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,l.jsx)(n.C,{className:U(e.category),children:e.category}),(0,l.jsx)(n.C,{variant:"outline",children:e.skillLevel})]})]}),(0,l.jsx)(i.z,{size:"sm",variant:"ghost",children:(0,l.jsx)(E.Z,{className:"h-4 w-4"})})]})})},e.id))})]})]})]}),(0,l.jsx)(eo.Z5,{onDragEnd:e=>{if(!e.destination)return;let s=Array.from(y.drills),[a]=s.splice(e.source.index,1);s.splice(e.destination.index,0,a);let l=s.map((e,s)=>({...e,order:s}));w(e=>({...e,drills:l}))},children:(0,l.jsx)(eo.bK,{droppableId:"drills",children:e=>(0,l.jsxs)("div",{...e.droppableProps,ref:e.innerRef,className:"space-y-2",children:[y.drills.map((e,s)=>(0,l.jsx)(eo._l,{draggableId:e.id,index:s,children:a=>(0,l.jsxs)("div",{ref:a.innerRef,...a.draggableProps,className:"flex items-center gap-4 p-4 border border-gray-200 rounded-lg bg-white",children:[(0,l.jsx)("div",{...a.dragHandleProps,children:(0,l.jsx)(ei.Z,{className:"h-5 w-5 text-gray-400"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)("span",{className:"font-medium",children:[s+1,"."]}),(0,l.jsx)("h4",{className:"font-medium",children:e.drill.name}),(0,l.jsx)(n.C,{className:U(e.drill.category),children:e.drill.category})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.drill.description})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(b.I,{type:"number",placeholder:"Duration (min)",value:Math.floor((e.duration||0)/60),onChange:e=>A(s,60*parseInt(e.target.value||"0")),className:"w-20"}),(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"min"}),(0,l.jsx)(i.z,{variant:"ghost",size:"sm",onClick:()=>L(s),children:(0,l.jsx)(F.Z,{className:"h-4 w-4 text-red-500"})})]})]})},e.id)),e.placeholder]})})}),0===y.drills.length&&(0,l.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,l.jsx)(m.Z,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),(0,l.jsx)("p",{children:"No drills added yet"}),(0,l.jsx)("p",{className:"text-sm",children:'Click "Add Drill" to start building your workout'})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 pt-4 border-t",children:[(0,l.jsxs)(i.z,{onClick:d?P:D,className:"bg-orange-600 hover:bg-orange-700",disabled:!y.name||0===y.drills.length,children:[(0,l.jsx)(en.Z,{className:"h-4 w-4 mr-2"}),d?"Update Workout":"Create Workout"]}),(0,l.jsx)(i.z,{variant:"outline",onClick:()=>{g(!1),x(null),R()},children:"Cancel"})]})]})]})]})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((e,s)=>(0,l.jsx)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*s},children:(0,l.jsxs)(r.Zb,{className:"border-orange-100 hover:shadow-lg transition-all duration-300 h-full",children:[(0,l.jsx)(r.Ol,{className:"pb-3",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)(r.ll,{className:"text-lg line-clamp-1",children:e.name}),(0,l.jsx)(r.SZ,{className:"line-clamp-2 mt-1",children:e.description||"No description"})]}),(0,l.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0 ml-3",children:(0,l.jsx)(u.Z,{className:"h-6 w-6 text-orange-600"})})]})}),(0,l.jsxs)(r.aY,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(S.Z,{className:"h-4 w-4"}),(0,l.jsx)("span",{children:I(e.totalDuration)})]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(m.Z,{className:"h-4 w-4"}),(0,l.jsxs)("span",{children:[e.workoutDrills?.length||0," drills"]})]}),e.isPublic&&(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(ec.Z,{className:"h-4 w-4"}),(0,l.jsx)("span",{children:"Public"})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)(i.z,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{O(e),g(!0)},children:[(0,l.jsx)(ed.Z,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,l.jsxs)(i.z,{size:"sm",className:"flex-1 bg-orange-600 hover:bg-orange-700",children:[(0,l.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"Start"]}),(0,l.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>T(e.id),children:(0,l.jsx)(F.Z,{className:"h-4 w-4 text-red-500"})})]})]})]})},e.id))}),0===a.length&&(0,l.jsx)(r.Zb,{className:"border-orange-100",children:(0,l.jsxs)(r.aY,{className:"text-center py-12",children:[(0,l.jsx)(u.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No workouts yet"}),(0,l.jsx)("p",{className:"text-gray-600 mb-4",children:"Create your first workout by combining drills into a structured routine."}),(0,l.jsxs)(i.z,{onClick:()=>g(!0),className:"bg-orange-600 hover:bg-orange-700",children:[(0,l.jsx)(E.Z,{className:"h-4 w-4 mr-2"}),"Create Your First Workout"]})]})})]})}var em=a(8011),eh=a(9062),eg=a(6886),eu=a(1059);function ej(){let[e,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[o,h]=(0,t.useState)([]),[u,j]=(0,t.useState)(!0),[p,y]=(0,t.useState)(0),[b,w]=(0,t.useState)("rookie");(0,t.useEffect)(()=>{k(),Z()},[]);let k=async()=>{try{let e=await fetch("/api/achievements");if(e.ok){let a=await e.json();s(a.userAchievements||[]),i(a.availableAchievements||[]),y(a.totalPoints||0),w(a.currentLevel||"rookie")}}catch(e){console.error("Error fetching achievements:",e)}finally{j(!1)}},Z=async()=>{try{let e=await fetch("/api/challenges");if(e.ok){let s=await e.json();h(s||[])}}catch(e){console.error("Error fetching challenges:",e)}},C=e=>({starter:"bg-gray-100 text-gray-800",common:"bg-blue-100 text-blue-800",uncommon:"bg-green-100 text-green-800",rare:"bg-purple-100 text-purple-800",legendary:"bg-yellow-100 text-yellow-800"})[e]||"bg-gray-100 text-gray-800",S=e=>({starter:(0,l.jsx)(em.Z,{className:"h-5 w-5"}),common:(0,l.jsx)(f.Z,{className:"h-5 w-5"}),uncommon:(0,l.jsx)(N.Z,{className:"h-5 w-5"}),rare:(0,l.jsx)(x.Z,{className:"h-5 w-5"}),legendary:(0,l.jsx)(eh.Z,{className:"h-5 w-5"})})[e]||(0,l.jsx)(em.Z,{className:"h-5 w-5"}),P=e=>({DAILY:"bg-green-100 text-green-800",WEEKLY:"bg-blue-100 text-blue-800",MONTHLY:"bg-purple-100 text-purple-800",MILESTONE:"bg-yellow-100 text-yellow-800"})[e]||"bg-gray-100 text-gray-800",E=o.filter(e=>"ACTIVE"===e.status),T=o.filter(e=>"COMPLETED"===e.status),z=(e=>{let s={rookie:{name:"Rookie",color:"text-gray-600",icon:(0,l.jsx)(em.Z,{className:"h-5 w-5"})},amateur:{name:"Amateur",color:"text-blue-600",icon:(0,l.jsx)(f.Z,{className:"h-5 w-5"})},star:{name:"Star",color:"text-purple-600",icon:(0,l.jsx)(N.Z,{className:"h-5 w-5"})},allstar:{name:"All-Star",color:"text-yellow-600",icon:(0,l.jsx)(x.Z,{className:"h-5 w-5"})},legend:{name:"Legend",color:"text-red-600",icon:(0,l.jsx)(eh.Z,{className:"h-5 w-5"})}};return s[e]||s.rookie})(b);return u?(0,l.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600"})}):(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Achievements & Rewards"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Track your progress and unlock amazing rewards"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:p}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Total Points"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:z.color,children:z.icon}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:`font-semibold ${z.color}`,children:z.name}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Current Level"})]})]})]})]}),(0,l.jsxs)(d.mQ,{defaultValue:"achievements",className:"space-y-6",children:[(0,l.jsxs)(d.dr,{className:"grid w-full grid-cols-3 bg-white border border-orange-100",children:[(0,l.jsxs)(d.SP,{value:"achievements",className:"flex items-center gap-2",children:[(0,l.jsx)(x.Z,{className:"h-4 w-4"}),"Achievements"]}),(0,l.jsxs)(d.SP,{value:"challenges",className:"flex items-center gap-2",children:[(0,l.jsx)(m.Z,{className:"h-4 w-4"}),"Challenges"]}),(0,l.jsxs)(d.SP,{value:"rewards",className:"flex items-center gap-2",children:[(0,l.jsx)(eg.Z,{className:"h-4 w-4"}),"Rewards"]})]}),(0,l.jsxs)(d.nU,{value:"achievements",className:"space-y-6",children:[(0,l.jsxs)(r.Zb,{className:"border-orange-100",children:[(0,l.jsx)(r.Ol,{children:(0,l.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(g.Z,{className:"h-5 w-5 text-orange-600"}),"Achievement Progress"]})}),(0,l.jsx)(r.aY,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-3xl font-bold text-green-600",children:e.length}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Unlocked"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:a.length}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Available"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsxs)("div",{className:"text-3xl font-bold text-purple-600",children:[Math.round(e.length/(e.length+a.length)*100)||0,"%"]}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"Complete"})]})]})})]}),(0,l.jsxs)(r.Zb,{className:"border-orange-100",children:[(0,l.jsx)(r.Ol,{children:(0,l.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(D.Z,{className:"h-5 w-5 text-green-600"}),"Unlocked Achievements (",e.length,")"]})}),(0,l.jsxs)(r.aY,{children:[(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((e,s)=>(0,l.jsx)(v.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.1*s},children:(0,l.jsx)(r.Zb,{className:"border-green-200 bg-green-50",children:(0,l.jsxs)(r.aY,{className:"p-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:S(e.achievement.rarity)}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h3",{className:"font-semibold text-green-900",children:e.achievement.name}),(0,l.jsx)(n.C,{className:C(e.achievement.rarity),children:e.achievement.rarity})]})]}),(0,l.jsx)("p",{className:"text-sm text-green-700 mb-2",children:e.achievement.description}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs text-green-600",children:[(0,l.jsxs)("span",{children:["+",e.achievement.points," points"]}),(0,l.jsx)("span",{children:new Date(e.unlockedAt).toLocaleDateString()})]})]})})},e.id))}),0===e.length&&(0,l.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,l.jsx)(x.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,l.jsx)("p",{children:"No achievements unlocked yet"}),(0,l.jsx)("p",{className:"text-sm",children:"Complete drills and challenges to earn your first achievement!"})]})]})]}),(0,l.jsxs)(r.Zb,{className:"border-orange-100",children:[(0,l.jsx)(r.Ol,{children:(0,l.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(eu.Z,{className:"h-5 w-5 text-gray-600"}),"Available Achievements (",a.length,")"]})}),(0,l.jsx)(r.aY,{children:(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map((e,s)=>(0,l.jsx)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*s},children:(0,l.jsx)(r.Zb,{className:"border-gray-200 hover:border-orange-200 transition-colors",children:(0,l.jsxs)(r.aY,{className:"p-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:S(e.rarity)}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,l.jsx)(n.C,{className:C(e.rarity),children:e.rarity})]})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,l.jsxs)("span",{children:["Reward: ",e.points," points"]}),(0,l.jsx)("span",{children:e.category})]})]})})},e.id))})})]})]}),(0,l.jsxs)(d.nU,{value:"challenges",className:"space-y-6",children:[(0,l.jsxs)(r.Zb,{className:"border-orange-100",children:[(0,l.jsxs)(r.Ol,{children:[(0,l.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(m.Z,{className:"h-5 w-5 text-orange-600"}),"Active Challenges (",E.length,")"]}),(0,l.jsx)(r.SZ,{children:"Complete these challenges to earn rewards and advance your skills"})]}),(0,l.jsx)(r.aY,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[E.map(e=>(0,l.jsx)(r.Zb,{className:"border-blue-200 bg-blue-50",children:(0,l.jsxs)(r.aY,{className:"p-4",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,l.jsx)("h3",{className:"font-semibold text-blue-900",children:e.challenge.name}),(0,l.jsx)(n.C,{className:P(e.challenge.type),children:e.challenge.type})]}),(0,l.jsx)("p",{className:"text-sm text-blue-700",children:e.challenge.description})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[e.progress,"%"]}),(0,l.jsx)("div",{className:"text-xs text-blue-600",children:"Complete"})]})]}),(0,l.jsx)(c.E,{value:e.progress,className:"mb-3"}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs text-blue-600",children:[(0,l.jsxs)("span",{children:["Started: ",new Date(e.startedAt).toLocaleDateString()]}),e.challenge.timeLimit&&(0,l.jsxs)("span",{children:["Time limit: ",e.challenge.timeLimit,"h"]})]})]})},e.id)),0===E.length&&(0,l.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,l.jsx)(m.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,l.jsx)("p",{children:"No active challenges"}),(0,l.jsx)("p",{className:"text-sm",children:"New challenges are automatically assigned based on your progress"})]})]})})]}),(0,l.jsxs)(r.Zb,{className:"border-orange-100",children:[(0,l.jsx)(r.Ol,{children:(0,l.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(D.Z,{className:"h-5 w-5 text-green-600"}),"Completed Challenges (",T.length,")"]})}),(0,l.jsx)(r.aY,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[T.map(e=>(0,l.jsx)(r.Zb,{className:"border-green-200 bg-green-50",children:(0,l.jsx)(r.aY,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,l.jsx)("h3",{className:"font-semibold text-green-900",children:e.challenge.name}),(0,l.jsx)(n.C,{className:P(e.challenge.type),children:e.challenge.type}),(0,l.jsx)(n.C,{className:"bg-green-100 text-green-800",children:"COMPLETED"})]}),(0,l.jsx)("p",{className:"text-sm text-green-700",children:e.challenge.description})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("div",{className:"text-lg font-bold text-green-600",children:(0,l.jsx)(D.Z,{className:"h-5 w-5"})}),(0,l.jsx)("div",{className:"text-xs text-green-600",children:e.completedAt&&new Date(e.completedAt).toLocaleDateString()})]})]})})},e.id)),0===T.length&&(0,l.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,l.jsx)(D.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,l.jsx)("p",{children:"No completed challenges yet"}),(0,l.jsx)("p",{className:"text-sm",children:"Complete active challenges to see them here"})]})]})})]})]}),(0,l.jsx)(d.nU,{value:"rewards",className:"space-y-6",children:(0,l.jsxs)(r.Zb,{className:"border-orange-100",children:[(0,l.jsxs)(r.Ol,{children:[(0,l.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(eg.Z,{className:"h-5 w-5 text-orange-600"}),"Reward System"]}),(0,l.jsx)(r.SZ,{children:"Earn points and level up by completing drills and challenges"})]}),(0,l.jsx)(r.aY,{children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-4xl font-bold text-orange-600 mb-2",children:p}),(0,l.jsx)("div",{className:"text-gray-600",children:"Total Points Earned"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"font-semibold",children:"Point Values"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Complete a drill"}),(0,l.jsx)("span",{className:"font-semibold",children:"+10 points"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Perfect drill rating"}),(0,l.jsx)("span",{className:"font-semibold",children:"+5 bonus"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Daily streak"}),(0,l.jsx)("span",{className:"font-semibold",children:"+20 points"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Complete challenge"}),(0,l.jsx)("span",{className:"font-semibold",children:"+50 points"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"font-semibold",children:"Level Requirements"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Rookie → Amateur"}),(0,l.jsx)("span",{className:"font-semibold",children:"500 points"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Amateur → Star"}),(0,l.jsx)("span",{className:"font-semibold",children:"1,000 points"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Star → All-Star"}),(0,l.jsx)("span",{className:"font-semibold",children:"2,000 points"})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"All-Star → Legend"}),(0,l.jsx)("span",{className:"font-semibold",children:"5,000 points"})]})]})]})]})]})})]})})]})]})}var ep=a(199),ef=a(1572),eN=a(4693),ey=a(1946),ev=a(1178);function eb(){let[e,s]=(0,t.useState)([{id:"1",role:"assistant",content:"Hi there! I'm Coach Alex, your basketball AI assistant! \uD83C\uDFC0 I'm here to help you with drills, techniques, and motivation. What would you like to work on today?",timestamp:new Date}]),[a,r]=(0,t.useState)(""),[c,d]=(0,t.useState)(!1),[o,x]=(0,t.useState)(!1),m=async()=>{if(!a.trim()||c)return;let e={id:Date.now().toString(),role:"user",content:a,timestamp:new Date};s(s=>[...s,e]),r(""),d(!0);try{let e=await fetch("/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:a})});if(!e.ok)throw Error("Failed to get response");let l=e.body?.getReader(),t=new TextDecoder,r="";if(l){let e={id:(Date.now()+1).toString(),role:"assistant",content:"",timestamp:new Date};for(s(s=>[...s,e]);;){let{done:a,value:i}=await l.read();if(a)break;for(let a of t.decode(i).split("\n"))if(a.startsWith("data: ")){let l=a.slice(6);if("[DONE]"===l){d(!1);return}try{let a=JSON.parse(l);r+=a.content,s(s=>s.map(s=>s.id===e.id?{...s,content:r}:s))}catch(e){}}}}}catch(a){console.error("Error sending message:",a);let e={id:(Date.now()+1).toString(),role:"assistant",content:"Sorry, I'm having trouble connecting right now. Please try again in a moment!",timestamp:new Date};s(s=>[...s,e])}finally{d(!1)}};return(0,l.jsxs)(k.Vq,{open:o,onOpenChange:x,children:[(0,l.jsx)(k.hg,{asChild:!0,children:(0,l.jsxs)(i.z,{variant:"outline",className:"fixed bottom-6 right-6 z-50 shadow-lg",children:[(0,l.jsx)(ep.Z,{className:"h-4 w-4 mr-2"}),"Ask Coach Alex"]})}),(0,l.jsxs)(k.cZ,{className:"max-w-2xl h-[600px] flex flex-col",children:[(0,l.jsxs)(k.fK,{children:[(0,l.jsxs)(k.$N,{className:"flex items-center gap-2",children:[(0,l.jsx)(ef.Z,{className:"h-5 w-5 text-orange-600"}),"Chat with Coach Alex"]}),(0,l.jsx)(k.Be,{children:"Your personal basketball AI coach is here to help!"})]}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,l.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-4 p-4 bg-gray-50 rounded-lg",children:[e.map(e=>(0,l.jsx)(v.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${"user"===e.role?"justify-end":"justify-start"}`,children:(0,l.jsxs)("div",{className:`max-w-[80%] ${"user"===e.role?"order-2":"order-1"}`,children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:["assistant"===e.role?(0,l.jsx)(ef.Z,{className:"h-4 w-4 text-orange-600"}):(0,l.jsx)(eN.Z,{className:"h-4 w-4 text-blue-600"}),(0,l.jsx)("span",{className:"text-sm font-medium",children:"assistant"===e.role?"Coach Alex":"You"}),(0,l.jsx)("span",{className:"text-xs text-gray-500",children:e.timestamp.toLocaleTimeString()})]}),(0,l.jsx)("div",{className:`p-3 rounded-lg ${"user"===e.role?"bg-blue-600 text-white":"bg-white text-gray-900 border border-gray-200"}`,children:e.content})]})},e.id)),c&&(0,l.jsx)("div",{className:"flex justify-start",children:(0,l.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-white rounded-lg border border-gray-200",children:[(0,l.jsx)(ey.Z,{className:"h-4 w-4 animate-spin text-orange-600"}),(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Coach Alex is thinking..."})]})})]}),(0,l.jsxs)("div",{className:"p-4 border-t bg-white",children:[(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(b.I,{value:a,onChange:e=>r(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),m())},placeholder:"Ask me about basketball drills, techniques, or motivation...",disabled:c,className:"flex-1"}),(0,l.jsx)(i.z,{onClick:m,disabled:!a.trim()||c,className:"bg-orange-600 hover:bg-orange-700",children:(0,l.jsx)(ev.Z,{className:"h-4 w-4"})})]}),(0,l.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,l.jsx)(n.C,{variant:"outline",className:"text-xs",children:"Ask about drills"}),(0,l.jsx)(n.C,{variant:"outline",className:"text-xs",children:"Get motivation"}),(0,l.jsx)(n.C,{variant:"outline",className:"text-xs",children:"Technique tips"})]})]})]})]})]})}function ew({user:e}){let[s,a]=(0,t.useState)("overview"),[b,w]=(0,t.useState)({totalDrills:0,completedDrills:0,currentStreak:0,totalPoints:0,averageRating:0,weeklyGoal:7,weeklyProgress:0}),[k,Z]=(0,t.useState)("");(0,t.useEffect)(()=>{C(),S()},[]);let C=async()=>{try{let e=await fetch("/api/dashboard/stats");if(e.ok){let s=await e.json();w(s)}}catch(e){console.error("Error fetching dashboard data:",e)}},S=async()=>{try{let e=await fetch("/api/ai/motivational-quote");if(e.ok){let s=await e.json();Z(s.quote)}}catch(e){console.error("Error fetching motivational quote:",e)}},D=e.playerProfile?.currentLevel||"rookie",P={rookie:{next:"Amateur",color:"bg-gray-500",pointsNeeded:500},amateur:{next:"Star",color:"bg-blue-500",pointsNeeded:1e3},star:{next:"All-Star",color:"bg-purple-500",pointsNeeded:2e3},allstar:{next:"Legend",color:"bg-yellow-500",pointsNeeded:5e3},legend:{next:"Legend",color:"bg-red-500",pointsNeeded:1e4}}[D];return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-blue-50",children:[(0,l.jsx)("header",{className:"bg-white shadow-sm border-b border-orange-100",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-orange-600 rounded-lg flex items-center justify-center",children:(0,l.jsx)(o.Z,{className:"h-6 w-6 text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"HoopsQuest"}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Welcome back, ",e.name,"!"]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(x.Z,{className:"h-5 w-5 text-yellow-500"}),(0,l.jsx)("span",{className:"font-semibold text-gray-900",children:b.totalPoints})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(m.Z,{className:"h-5 w-5 text-orange-500"}),(0,l.jsx)("span",{className:"font-semibold text-gray-900",children:b.currentStreak})]}),(0,l.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>(0,y.signOut)(),className:"text-gray-600 hover:text-gray-900",children:(0,l.jsx)(h.Z,{className:"h-4 w-4"})})]})]})})}),(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,l.jsxs)(d.mQ,{value:s,onValueChange:a,className:"space-y-6",children:[(0,l.jsxs)(d.dr,{className:"grid w-full grid-cols-6 bg-white border border-orange-100",children:[(0,l.jsxs)(d.SP,{value:"overview",className:"flex items-center gap-2",children:[(0,l.jsx)(g.Z,{className:"h-4 w-4"}),"Overview"]}),(0,l.jsxs)(d.SP,{value:"drills",className:"flex items-center gap-2",children:[(0,l.jsx)(u.Z,{className:"h-4 w-4"}),"Drills"]}),(0,l.jsxs)(d.SP,{value:"calendar",className:"flex items-center gap-2",children:[(0,l.jsx)(j.Z,{className:"h-4 w-4"}),"Calendar"]}),(0,l.jsxs)(d.SP,{value:"timer",className:"flex items-center gap-2",children:[(0,l.jsx)(p.Z,{className:"h-4 w-4"}),"Timer"]}),(0,l.jsxs)(d.SP,{value:"workouts",className:"flex items-center gap-2",children:[(0,l.jsx)(o.Z,{className:"h-4 w-4"}),"Workouts"]}),(0,l.jsxs)(d.SP,{value:"achievements",className:"flex items-center gap-2",children:[(0,l.jsx)(f.Z,{className:"h-4 w-4"}),"Rewards"]})]}),(0,l.jsxs)(d.nU,{value:"overview",className:"space-y-6",children:[(0,l.jsx)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,l.jsx)(r.Zb,{className:"bg-gradient-to-r from-orange-600 to-orange-700 text-white border-0",children:(0,l.jsx)(r.aY,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("h2",{className:"text-2xl font-bold mb-2",children:["Hey ",e.name?.split(" ")[0],"! \uD83C\uDFC0"]}),(0,l.jsx)("p",{className:"text-orange-100 mb-4",children:k||"Ready to take your game to the next level?"}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(n.C,{className:"bg-white text-orange-600 font-semibold",children:D.charAt(0).toUpperCase()+D.slice(1)}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(m.Z,{className:"h-4 w-4"}),(0,l.jsxs)("span",{className:"text-sm",children:["Streak: ",b.currentStreak," days"]})]})]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("div",{className:"text-3xl font-bold",children:b.totalPoints}),(0,l.jsx)("div",{className:"text-orange-100 text-sm",children:"Total Points"})]})]})})})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,l.jsx)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:(0,l.jsx)(r.Zb,{className:"border-orange-100 hover:shadow-lg transition-shadow",children:(0,l.jsxs)(r.aY,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Weekly Progress"}),(0,l.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[b.weeklyProgress,"/",b.weeklyGoal]})]}),(0,l.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(j.Z,{className:"h-6 w-6 text-orange-600"})})]}),(0,l.jsx)(c.E,{value:b.weeklyProgress/b.weeklyGoal*100,className:"mt-3"})]})})}),(0,l.jsx)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:(0,l.jsx)(r.Zb,{className:"border-orange-100 hover:shadow-lg transition-shadow",children:(0,l.jsxs)(r.aY,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Drills Completed"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:b.completedDrills})]}),(0,l.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(u.Z,{className:"h-6 w-6 text-blue-600"})})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:b.averageRating>0&&(0,l.jsxs)("span",{className:"flex items-center gap-1",children:[(0,l.jsx)(N.Z,{className:"h-4 w-4 text-yellow-500"}),b.averageRating.toFixed(1)," avg rating"]})})]})})}),(0,l.jsx)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:(0,l.jsx)(r.Zb,{className:"border-orange-100 hover:shadow-lg transition-shadow",children:(0,l.jsxs)(r.aY,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Next Level"}),(0,l.jsx)("p",{className:"text-lg font-bold text-gray-900",children:P.next})]}),(0,l.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(x.Z,{className:"h-6 w-6 text-purple-600"})})]}),(0,l.jsx)(c.E,{value:b.totalPoints/P.pointsNeeded*100,className:"mt-3"}),(0,l.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:[P.pointsNeeded-b.totalPoints," points to go"]})]})})})]}),(0,l.jsx)(v.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:(0,l.jsxs)(r.Zb,{className:"border-orange-100",children:[(0,l.jsxs)(r.Ol,{children:[(0,l.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(o.Z,{className:"h-5 w-5 text-orange-600"}),"Quick Actions"]}),(0,l.jsx)(r.SZ,{children:"Jump into your practice session"})]}),(0,l.jsx)(r.aY,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)(i.z,{className:"bg-orange-600 hover:bg-orange-700 text-white h-12",onClick:()=>a("drills"),children:[(0,l.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Browse Drills"]}),(0,l.jsxs)(i.z,{variant:"outline",className:"border-orange-200 text-orange-600 hover:bg-orange-50 h-12",onClick:()=>a("timer"),children:[(0,l.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Start Timer"]}),(0,l.jsxs)(i.z,{variant:"outline",className:"border-orange-200 text-orange-600 hover:bg-orange-50 h-12",onClick:()=>a("calendar"),children:[(0,l.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),"View Schedule"]})]})})]})})]}),(0,l.jsx)(d.nU,{value:"drills",children:(0,l.jsx)(Q,{})}),(0,l.jsx)(d.nU,{value:"calendar",children:(0,l.jsx)(K,{})}),(0,l.jsx)(d.nU,{value:"timer",children:(0,l.jsx)(el,{})}),(0,l.jsx)(d.nU,{value:"workouts",children:(0,l.jsx)(ex,{})}),(0,l.jsx)(d.nU,{value:"achievements",children:(0,l.jsx)(ej,{})})]})}),(0,l.jsx)(eb,{})]})}},1335:function(e,s,a){"use strict";a.d(s,{C:function(){return n}});var l=a(5444);a(9300);var t=a(2371),r=a(5522);let i=(0,t.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:s,...a}){return(0,l.jsx)("div",{className:(0,r.cn)(i({variant:s}),e),...a})}},2422:function(e,s,a){"use strict";a.d(s,{z:function(){return d}});var l=a(5444),t=a(9300),r=a(223),i=a(2371),n=a(5522);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=t.forwardRef(({className:e,variant:s,size:a,asChild:t=!1,...i},d)=>{let o=t?r.g7:"button";return(0,l.jsx)(o,{className:(0,n.cn)(c({variant:s,size:a,className:e})),ref:d,...i})});d.displayName="Button"},9827:function(e,s,a){"use strict";a.d(s,{Ol:function(){return n},SZ:function(){return d},Zb:function(){return i},aY:function(){return o},ll:function(){return c}});var l=a(5444),t=a(9300),r=a(5522);let i=t.forwardRef(({className:e,...s},a)=>(0,l.jsx)("div",{ref:a,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));i.displayName="Card";let n=t.forwardRef(({className:e,...s},a)=>(0,l.jsx)("div",{ref:a,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...s}));n.displayName="CardHeader";let c=t.forwardRef(({className:e,...s},a)=>(0,l.jsx)("h3",{ref:a,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));c.displayName="CardTitle";let d=t.forwardRef(({className:e,...s},a)=>(0,l.jsx)("p",{ref:a,className:(0,r.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let o=t.forwardRef(({className:e,...s},a)=>(0,l.jsx)("div",{ref:a,className:(0,r.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",t.forwardRef(({className:e,...s},a)=>(0,l.jsx)("div",{ref:a,className:(0,r.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},9530:function(e,s,a){"use strict";a.d(s,{$N:function(){return g},Be:function(){return u},Vq:function(){return c},cZ:function(){return m},fK:function(){return h},hg:function(){return d}});var l=a(5444),t=a(9300),r=a(9095),i=a(3485),n=a(5522);let c=r.fC,d=r.xz,o=r.h_;r.x8;let x=t.forwardRef(({className:e,...s},a)=>(0,l.jsx)(r.aV,{ref:a,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));x.displayName=r.aV.displayName;let m=t.forwardRef(({className:e,children:s,...a},t)=>(0,l.jsxs)(o,{children:[(0,l.jsx)(x,{}),(0,l.jsxs)(r.VY,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[s,(0,l.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,l.jsx)(i.Z,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=r.VY.displayName;let h=({className:e,...s})=>(0,l.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});h.displayName="DialogHeader";let g=t.forwardRef(({className:e,...s},a)=>(0,l.jsx)(r.Dx,{ref:a,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",e),...s}));g.displayName=r.Dx.displayName;let u=t.forwardRef(({className:e,...s},a)=>(0,l.jsx)(r.dk,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...s}));u.displayName=r.dk.displayName},4678:function(e,s,a){"use strict";a.d(s,{I:function(){return i}});var l=a(5444),t=a(9300),r=a(5522);let i=t.forwardRef(({className:e,type:s,...a},t)=>(0,l.jsx)("input",{type:s,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...a}));i.displayName="Input"},4635:function(e,s,a){"use strict";a.d(s,{_:function(){return d}});var l=a(5444),t=a(9300),r=a(4100),i=a(2371),n=a(5522);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=t.forwardRef(({className:e,...s},a)=>(0,l.jsx)(r.f,{ref:a,className:(0,n.cn)(c(),e),...s}));d.displayName=r.f.displayName},7108:function(e,s,a){"use strict";a.d(s,{E:function(){return n}});var l=a(5444),t=a(9300),r=a(5052),i=a(5522);let n=t.forwardRef(({className:e,value:s,...a},t)=>(0,l.jsx)(r.fC,{ref:t,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...a,children:(0,l.jsx)(r.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));n.displayName=r.fC.displayName},489:function(e,s,a){"use strict";a.d(s,{Bw:function(){return u},Ph:function(){return o},Ql:function(){return j},i4:function(){return m},ki:function(){return x}});var l=a(5444),t=a(9300),r=a(6667),i=a(3751),n=a(6997),c=a(7248),d=a(5522);let o=r.fC;r.ZA;let x=r.B4,m=t.forwardRef(({className:e,children:s,...a},t)=>(0,l.jsxs)(r.xz,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[s,(0,l.jsx)(r.JO,{asChild:!0,children:(0,l.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=r.xz.displayName;let h=t.forwardRef(({className:e,...s},a)=>(0,l.jsx)(r.u_,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,l.jsx)(n.Z,{className:"h-4 w-4"})}));h.displayName=r.u_.displayName;let g=t.forwardRef(({className:e,...s},a)=>(0,l.jsx)(r.$G,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:(0,l.jsx)(i.Z,{className:"h-4 w-4"})}));g.displayName=r.$G.displayName;let u=t.forwardRef(({className:e,children:s,position:a="popper",...t},i)=>(0,l.jsx)(r.h_,{children:(0,l.jsxs)(r.VY,{ref:i,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...t,children:[(0,l.jsx)(h,{}),(0,l.jsx)(r.l_,{className:(0,d.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,l.jsx)(g,{})]})}));u.displayName=r.VY.displayName,t.forwardRef(({className:e,...s},a)=>(0,l.jsx)(r.__,{ref:a,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s})).displayName=r.__.displayName;let j=t.forwardRef(({className:e,children:s,...a},t)=>(0,l.jsxs)(r.ck,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(r.wU,{children:(0,l.jsx)(c.Z,{className:"h-4 w-4"})})}),(0,l.jsx)(r.eT,{children:s})]}));j.displayName=r.ck.displayName,t.forwardRef(({className:e,...s},a)=>(0,l.jsx)(r.Z0,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=r.Z0.displayName},6765:function(e,s,a){"use strict";a.d(s,{SP:function(){return d},dr:function(){return c},mQ:function(){return n},nU:function(){return o}});var l=a(5444),t=a(9300),r=a(9035),i=a(5522);let n=r.fC,c=t.forwardRef(({className:e,...s},a)=>(0,l.jsx)(r.aV,{ref:a,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));c.displayName=r.aV.displayName;let d=t.forwardRef(({className:e,...s},a)=>(0,l.jsx)(r.xz,{ref:a,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));d.displayName=r.xz.displayName;let o=t.forwardRef(({className:e,...s},a)=>(0,l.jsx)(r.VY,{ref:a,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));o.displayName=r.VY.displayName},7012:function(e,s,a){"use strict";a.d(s,{g:function(){return i}});var l=a(5444),t=a(9300),r=a(5522);let i=t.forwardRef(({className:e,...s},a)=>(0,l.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...s}));i.displayName="Textarea"},5522:function(e,s,a){"use strict";a.d(s,{cn:function(){return r}});var l=a(2191),t=a(3607);function r(...e){return(0,t.m6)((0,l.W)(e))}}},function(e){e.O(0,[933,162,59,258,945,18,512,386,156,744],function(){return e(e.s=69)}),_N_E=e.O()}]);